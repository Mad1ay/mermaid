# WP-FR6.9.2: Робочий процес планування записів

## Загальна інформація

- **ID:** WP-FR6.10.2
- **Назва:** Робочий процес: Планування записів
- **Актори:** Клієнт, Адміністратор рецепції, Система
- **Тип процесу:** Наскрізний бізнес-процес

## Опис

Процес створення та управління попереднім записом клієнта на послуги оздоровчого комплексу. Забезпечує бронювання ресурсів (приміщень, обладнання, персоналу) з перевіркою доступності, відображення записів у системі "шахматка" та автоматичне оновлення статусу візиту при фізичному прибутті клієнта через систему контролю доступу.

## Детальна послідовність кроків

### 1. Запит на бронювання
**Відповідальний:** Клієнт або Адміністратор рецепції
**Дія:** Ініціація процесу створення попереднього запису на послугу

**Варіанти:**
- Клієнт самостійно через веб-портал або мобільний додаток
- Адміністратор рецепції за телефонним запитом або особистим зверненням клієнта

### 2. Вибір послуги та часу
**Відповідальний:** Клієнт/Адміністратор рецепції
**Дія:** Визначення параметрів бронювання:
- Тип послуги (масаж, SPA-процедура, басейн тощо)
- Бажана дата відвідування
- Бажаний час початку
- Тривалість (залежно від послуги)

### 3. Перевірка доступності ресурсів (UC-FR6.6.2)
**Відповідальний:** Система
**Дія:** Автоматична перевірка наявності необхідних ресурсів:
- Вільні приміщення/кабінети
- Доступний персонал (спеціалісти з необхідною кваліфікацією)
- Необхідне обладнання
- Відсутність конфліктів з іншими бронюваннями

**Результати перевірки:**
- Ресурси доступні → перехід до створення запису
- Ресурси недоступні → пропозиція альтернативного часу або дати

### 4. Створення запису в "шахматці" (UC-FR6.6.1, UC-FR6.6.3)
**Відповідальний:** Система
**Дія:** Фіксація бронювання в системі:
- Резервування обраного часового слоту
- Призначення ресурсів (персонал, приміщення)
- Створення запису в календарі-шахматці
- Генерація підтвердження бронювання

### 5. Прибуття клієнта
**Відповідальний:** Клієнт
**Дія:** Клієнт прибуває в комплекс у призначений час

### 6. Фіксація входу через СКД (UC-FR6.7.1)
**Відповідальний:** Система Контролю Доступу
**Дія:** Автоматична реєстрація входу клієнта:
- Сканування картки/браслета/QR-коду
- Ідентифікація клієнта
- Передача інформації про вхід у систему управління

### 7. Оновлення статусу візиту (UC-FR6.6.8)
**Відповідальний:** Система
**Дія:** Автоматична зміна статусу візиту з "Заброньовано" на "Клієнт прибув"
- Сповіщення відповідального персоналу
- Активація таймера візиту
- Підготовка до надання послуги

## Передумови

- Система бронювання налаштована та функціонує
- Доступні послуги внесені в систему з параметрами (тривалість, необхідні ресурси)
- Розклад роботи персоналу завантажено
- Система контролю доступу інтегрована з системою управління
- Клієнт зареєстрований у системі (для онлайн-бронювання)

## Післяумови (Результат)

- Бронювання створено та збережено в системі
- Ресурси зарезервовані на обраний час
- Запис відображається в "шахматці" адміністратора та спеціаліста
- При прибутті клієнта статус автоматично оновлюється
- Персонал отримує сповіщення про готовність почати надання послуги
- Система готова до обслуговування клієнта

## Альтернативні сценарії

### Відміна бронювання
- Клієнт або адміністратор скасовує запис
- Ресурси звільняються та стають доступними для інших бронювань
- Клієнт отримує підтвердження скасування

### Перенесення запису
- Зміна дати/часу існуючого бронювання
- Повторна перевірка доступності ресурсів
- Оновлення запису в шахматці

### Клієнт не прибув
- Статус залишається "Заброньовано"
- Система може автоматично змінити статус на "Не з'явився" після закінчення часу очікування
- Можлива генерація звіту про неявки

## Виняткові ситуації

- **Конфлікт бронювань:** Система блокує створення запису при виявленні конфлікту
- **Помилка СКД:** Ручне підтвердження прибуття адміністратором
- **Відсутність персоналу:** Попередження при бронюванні, пропозиція іншого часу
- **Технічний збій системи:** Використання резервного методу реєстрації (паперова шахматка)

## Пов'язані Use Cases

- UC-FR6.6.1: Створення бронювання
- UC-FR6.6.2: Перевірка доступності ресурсів
- UC-FR6.6.3: Відображення в шахматці
- UC-FR6.6.8: Оновлення статусу візиту
- UC-FR6.7.1: Контроль доступу (фіксація входу)

## Інтеграції

- **Система контролю доступу (СКД):** Автоматична ідентифікація клієнтів
- **Календар-шахматка:** Візуалізація записів та доступності
- **Система сповіщень:** Нагадування клієнтам та персоналу
- **CRM-система:** Історія відвідувань клієнта

## Метрики успішності

- Швидкість створення бронювання
- Відсоток успішних бронювань (без конфліктів)
- Коефіцієнт явки клієнтів (відношення тих, хто прийшов, до загальної кількості бронювань)
- Час автоматичного оновлення статусу при прибутті
- Завантаженість ресурсів (оптимізація розкладу)
